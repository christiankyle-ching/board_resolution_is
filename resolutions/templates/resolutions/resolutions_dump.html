{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="card p-6 lg:p-12">
    <h1>Resolutions Backup & Restore</h1>
    <hr>

    <div>

        <!-- Backup -->
        <div>
            <h3 class="mb-4">Backup</h3>

            <div class="flex gap-2 mb-2">
                <img src="{% static 'users/img/warning.png' %}" alt="" class="icon">
                <p>
                    This export will generate a compressed file (.zip) which will contain all the images and data of
                    each resolution / certificate.
                    <br><br>
                    <strong class="text-danger">
                        Expect a long waiting time if there is a large amount of images already stored in the system.
                    </strong>
                </p>
            </div>

            <div class="flex flex-col">
                <a href="{% url 'resolutions:db_res_export' %}" class="button-primary">
                    Download Backup as ZIP
                </a>
            </div>
        </div>

        <hr class="my-6 border-gray border-dashed">

        <!-- Restore -->
        <div>
            <h3 class="mb-4">Restore</h3>

            <form method="POST" class="flex flex-col gap-2" enctype="multipart/form-data">
                {% csrf_token %}

                <label for="">Dump File (.zip):</label>
                <input type="file" name="dump_zip" required accept=".zip">
                <small>
                    Select the .zip file generated by the "Download Backup as ZIP".
                    Invalid .zip files will not be considered.
                </small>

                <button type="submit" class="button-primary">Import ZIP Backup</button>
            </form>
        </div>

    </div>
</div>

{% endblock %}